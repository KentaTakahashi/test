waitに10が入っているのは変。
実装を見直したほうがよい

終わらせ方にみんな苦労している
例えば、先に終了オブジェクトを作っておき、
stop時はこの終了オブジェクトをスレッド分だけキューにつっこむ
各スレッドは最初に終了オブジェクトかどうかをチェックし、スレッドの終了を判断する。
